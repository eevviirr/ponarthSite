<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="components/header/Header.css" />
    <link rel="stylesheet" href="components/right menu/RightMenu.css" />
    <link rel="stylesheet" href="components/content/Content.css" />
    <link rel="stylesheet" href="components/buttons/Buttons.css" />
    <link rel="stylesheet" href="components/footer/Footer.css" />
    <link rel="" href="components/content/Content.js" />
    <link rel="stylesheet" href="components/FONTS/Text.css" />
    <link rel="stylesheet" href="components/right menu/DarkTheme.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <title>Ponarth</title>
  </head>

  <body>
    <div class="wrapper">
      <header>
        <!-- header -->

        <div class="all_menu">
          <img
            class="logo"
            alt=""
            src="components/img/PonarthLogoBlack.png"
            width="140px"
          />

          <div class="header_menu">
            <a class="headerButton" href="#sorta">Продукт</a>
            <a class="headerButton" href="#history">История</a>
            <a class="headerButton" href="#excursion">Экскурсии</a>
            <a class="headerButton" href="#partner">Партнерство</a>
            <a class="headerButton" href="#maps">На картах</a>
            <a class="headerButton" href="#news">Новости</a>
          </div>

          <div class="social">
            <a href="" target="_blank">
              <img
                class="social_circle"
                url=""
                src="components/img/ponarth.png"
                alt="ponart"
              />
            </a>
            <a href="https://vk.com/ponarth" target="_blank">
              <img class="social_circle" src="components/img/vk.png" alt="vk" />
            </a>
            <a href="https://t.me/ponarth_1849" target="_blank">
              <img class="social_circle" src="components/img/tg.png" alt="tg" />
            </a>
          </div>
        </div>
      </header>

      <div class="content">
        <!-- вся страница -->

        <div class="first_page" id="sorta">
          <!--  первый блок страницы -->

          <div class="content_first_page">
            <!-- карусель товара -->

            <div class="swiper mySwiper2">
              <div class="swiper-wrapper">
                <div class="swiper-slide huyna">
                  <img src="./components/img/limonade.png" alt="" />
                </div>
                <div class="swiper-slide huyna">
                  <img src="./components/img/limonade.png" alt="" />
                </div>
                <div class="swiper-slide huyna">
                  <img src="./components/img/limonade.png" alt="" />
                </div>
                <div class="swiper-slide huyna">
                  <img src="./components/img/limonade.png" alt="" />
                </div>
              </div>
              <div class="swiper-pagination"></div>
            </div>

            <div class="text_slider">
              <!-- описание товара карусели -->

              <h1>Продукт</h1>

              <h2>
                ЛИМОНАД <br />
                ЦИТРУСОВЫЙ
              </h2>

              <p class="classic">
                Лимонад классический безалкогольный<br />цитрусовый. Сварен по
                рецептам 1849 года<br />только с использованием натуральных<br />высококачественных
                ингридиентов
              </p>

              <button>Где попробовать?</button>
            </div>
          </div>
        </div>

        <div class="two_page" id="history">
          <!--  второй блок страницы -->

          <h1 class="white_text_center">
            Узнайте<br />многовековую<br />Историю<br />Лимонадоварения с<br />1839
            года
          </h1>

          <h2 class="white_text">
            Крупнейшей лимонадоваренной компанией в довоенной <br />
            Восточной Пруссии был Кенигсбергский завод "Понарт", <br />
            основанный Йозефом Филлипом Шиффердеккером 15 <br />
            ноября 1839 года. Сейчас "Понарт" - это локальное <br />
            акционерное общество по производству лимонадов в <br />
            развитие которого может принять каждый желающий
          </h2>

          <button class="btn_white">Узнать больше</button>
        </div>

        <div class="tree_page" id="excursion">
          <!--  третий блок страницы -->

          <div class="content_tree_page">
            <div class="only_text_tree_page">
              <h3 class="line_text">
                ПОСЕТИТИЕ <br />
                СЕРДЦЕ ПРУССИИ
              </h3>
              <p>
                Каждый вторник, среду и четверг <br />
                12.00 15.00. 19.00
              </p>
            </div>

            <div class="karusel">
              <div class="calendar_card">
                <div class="look-calendar">
                  <table id="calendar">
                    <thead>
                      <tr>
                        <td><b>‹</b></td>
                        <td colspan="5"></td>
                        <td>
                          <b>›</b>
                          <tr class="dn">
                            <td>Пн</td>
                            <td>Вт</td>
                            <td>Ср</td>
                            <td>Чт</td>
                            <td>Пт</td>
                            <td>Сб</td>
                            <td>Вс</td>
                          </tr>
                        </td>
                      </tr>
                    </thead>

                    <tbody></tbody>
                  </table>
                </div>

                <div class="label">
                  <form>
                    <input
                      type="text"
                      id="name"
                      name="name"
                      placeholder="Ваше имя"
                      placeholder="Введите имя"
                      required
                    />

                    <input
                      type="tel"
                      id="phone"
                      name="phone"
                      placeholder="Контактный номер телефона"
                      required
                    />

                    <input
                      type="number"
                      id="quantity"
                      name="quantity"
                      min="1"
                      max="10"
                      placeholder="Количество персон"
                      required
                    />

                    <button type="submit">Забронировать</button>
                  </form>
                </div>
              </div>

              <div class="slider_tree_page">
                <div class="slides">
                  <div id="slide-1">
                    <img src="components/img/Image (22).png" alt="" />
                    <p class="text_slide_tree_page">
                      #Знакомство с культурным наследием
                    </p>
                  </div>
                  <div id="slide-2">
                    <img src="components/img/Image (21).png" alt="" />
                    <p class="text_slide_tree_page">
                      #Рецептуры довоенной Восточной Пруссии
                    </p>
                  </div>
                  <div id="slide-3">
                    <img src="components/img/Image (22).png" alt="" />
                    <p class="text_slide_tree_page">
                      #8 дегустационных сортов лимонада
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="four_page" id="partner">
          <!-- четвёртый блок страницы -->

          <div class="texter">
            <h1>Понарт</h1>
            <h2>для партнёров</h2>
          </div>

          <div class="content_four_page">
            <!-- 1я -->

            <div class="txt_four_page">
              <h1 class="big_text_four_page">01</h1>
              <p>
                Только натуральное сырье и<br />
                качественный продукт
              </p>
            </div>

            <img class="img_four" src="components/img/Image.png" alt="" />

            <!-- 2я -->

            <img class="" src="components/img/Pivo2.png" alt="" />

            <div class="txt_four">
              <h1 class="text_four_right">02</h1>
              <p class="text_four_right">
                Всесторонняя поддержка <br />партнеров
              </p>
            </div>

            <!-- 3я -->

            <div class="txt_four_page">
              <h1 class="big_text_four_page">03</h1>
              <p>
                14 лет варим вкусное пиво по <br />
                технологиям 19го века
              </p>
            </div>

            <img class="img_four" src="components/img/Pivo3.png" alt="" />
          </div>

          <div class="forma_four_page">
            <div class="all_form_four">
              <h1 class="bochka">
                2 гостевые бочки лимонада кажому новому <br />
                партнеру от Понарт
              </h1>

              <div class="form_four">
                <form>
                  <input
                    type="text"
                    id="name"
                    name="name"
                    placeholder="Ваше имя"
                    class="input_forma_four_page"
                    required
                  />

                  <input
                    type="tel"
                    id="phone"
                    name="phone"
                    placeholder="Контактный номер телефона"
                    required
                  />

                  <button class="button_forma_four_page" type="submit">
                    Забронировать
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>

        <div class="five_page">
          <!--  пятый блок страницы -->

          <div class="content_five_page">
            <div class="five_content">
              <!-- описание поиск партнеров -->

              <div class="poisk">
                <div class="text_five">
                  <h3>МЫ В ПОИСКЕ ПАРТНЕРОВ И СОТРУДНИКОВ</h3>
                </div>

                <img class="man" src="../img/bREWING.png" alt="" />
              </div>
            </div>

            <div class="menu_vakansii" onclick="toggleBlocks()">
              <!-- вакансия поиск партнеров -->

              <div class="pod_menu">
                <h2 class="color_red">Актуальные Вакансии</h2>
                <img
                  class="img_five"
                  src="./components/img/Icon chevron down.png"
                  alt=""
                />
              </div>
            </div>
            <div class="content_vakansii">
              <div class="block_vakansii">
                <div class="element_vakansii">
                  <div class="img_vakansii">
                    <img src="components/img/pivovar.png" alt="" />
                  </div>

                  <div class="opisanie_vakansii">
                    <div class="all_items_vakansii">
                      <h2>Название вакансии</h2>
                      <p>описание вакансии</p>
                      <div class="label">
                        <form action="">
                          <input
                            type="text"
                            placeholder="Фамилия Имя Отчество"
                          />
                          <input type="text" placeholder="Ваш номер телефона" />
                          <button>Откликнуться</button>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="block_vakansii">
                <div class="element_vakansii">
                  <div class="img_vakansii">
                    <img src="components/img/pivovar.png" alt="" />
                  </div>

                  <div class="opisanie_vakansii">
                    <div class="all_items_vakansii">
                      <h2>Название вакансии</h2>
                      <p>описание вакансии</p>
                      <div class="label">
                        <form action="">
                          <input
                            type="text"
                            placeholder="Фамилия Имя Отчество"
                          />
                          <input type="text" placeholder="Ваш номер телефона" />
                          <button>Откликнуться</button>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="block_vakansii">
                <div class="element_vakansii">
                  <div class="img_vakansii">
                    <img src="components/img/pivovar.png" alt="" />
                  </div>

                  <div class="opisanie_vakansii">
                    <div class="all_items_vakansii">
                      <h2>Название вакансии</h2>
                      <p>описание вакансии</p>
                      <div class="label">
                        <form action="">
                          <input
                            type="text"
                            placeholder="Фамилия Имя Отчество"
                          />
                          <input type="text" placeholder="Ваш номер телефона" />
                          <button>Откликнуться</button>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <script>
              function toggleBlocks() {
                var contentBlock = document.querySelector(".content_vakansii");
                if (contentBlock.style.maxHeight) {
                  contentBlock.style.maxHeight = null;
                } else {
                  contentBlock.style.maxHeight =
                    contentBlock.scrollHeight + "px";
                }
              }
            </script>
          </div>
        </div>

        <div class="six_page" id="maps">
          <div class="content_six_page">
            <div class="text_six_block">
              <h1>Понарт</h1>
              <h2>на карте</h2>
            </div>

            <div style="position: relative; overflow: hidden">
              <iframe
                src="https://yandex.ru/map-widget/v1/?um=constructor%3A69e7963fbd932471d4fe17d380227c9a9764eb17e7f5c0f0f24f227e3959a1ba&amp;source=constructor"
                width="100%"
                height="720"
                frameborder="0"
              ></iframe>
            </div>
          </div>
        </div>

        <div class="seven_page" id="news">
          <div class="content_seven_page">
            <div class="text_seven_block">
              <h1 class="text_seven_block">Новости</h1>
              <h2>производства</h2>
            </div>

            <div class="slider_seven_page">
              <div class="swiper mySwiper">
                <div class="swiper-wrapper"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="right_menu">
        <!--  right menu  -->

        <a href="">
          <div class="account"></div>
        </a>

        <button id="themeToggle" class="night_light_mode"></button>
      </div>
    </div>

    <footer>
      <div class="all_items_footer">
        <div class="logo_footer"></div>

        <div class="info_footer">
          <a class="footerButton" href="">Untpappd</a>
          <a class="footerButton" href="">VK</a>
          <a class="footerButton" href="">Telegram</a>
        </div>
        <div class="info_footer">
          <a class="footerButton" href="#history">История</a>
          <a class="footerButton" href="#sorta">Продукт</a>
          <a class="footerButton" href="#maps">На картах</a>
          <a class="footerButton" href="#news">Новости</a>
        </div>
        <div class="info_footer">
          <a class="footerButton" href="#partner">Партнерам</a>
          <a class="footerButton" href="">Хочу в команду</a>
          <a class="footerButton" href="#excursion">Экскурсии</a>
        </div>
      </div>
    </footer>
    <div
      id="wrapper_vk_post"
      style="
        width: 100vw;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        position: fixed;
        top: 0;
        z-index: 10;
        display: none;
        background-color: rgba(0, 0, 0, 0.568);
      "
    >
      <div id="vk_post"></div>
      <!-- <div
        id="vk_post_button"
        style="
          width: 50px;
          height: 50px;
          position: absolute;
          right: 0;
          top: 0;
          cursor: pointer;
          margin-right: 50px;
          margin-top: 50px;
          font-size: 50px;
        "
      >
        X
      </div> -->
    </div>

    <script src="components/content/Content.js"></script>
    <script src="components/right menu/RightMenu.js"></script>
    <script
      src="https://vk.com/js/api/openapi.js?169"
      type="text/javascript"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
      function load(count = 10, offset = 0) {
        axios
          .get(
            `https://api.vk.com/method/wall.get?access_token=03cb6dbd03cb6dbd03cb6dbd6500dcb89b003cb03cb6dbd65c76084daee7883a34e38ca&owner_id=-ponarth&domain=ponarth&offset=${offset}&count=${count}&filter=all&v=5.199`
          )
          .then(({ data }) => {
            // Получаем массив постов
            const posts = data.response.items;
            console.log(posts);
            // Получаем контейнер для карусели
            const swiperWrapper = document.querySelector(
              ".mySwiper .swiper-wrapper"
            );

            // Создаем посты в карусели
            posts.forEach((post) => {
              // Создаем элемент карусели для поста
              const postItem = document.createElement("div");
              postItem.classList += "swiper-slide";

              // Получаем текст поста
              let text = post.text;

              // Создаем элемент <div> для изображения
              const imageDiv = document.createElement("div");
              imageDiv.style.width = "252px";
              imageDiv.style.height = "276px";
              imageDiv.style.borderRadius = "8px";
              imageDiv.style.backgroundPosition = "center center";
              imageDiv.style.backgroundSize = "cover";
              imageDiv.style.backgroundRepeat = "no-repeat";
              imageDiv.style.marginBottom = "24px"; // Добавляем отступ снизу к изображению

              // Проверяем наличие копии поста
              if (post.copy_history && post.copy_history.length > 0) {
                // Если есть копия поста, используем текст из нее
                text = post.copy_history[0].text;
                // Проверяем наличие вложений в копии поста
                if (
                  post.copy_history[0].attachments &&
                  post.copy_history[0].attachments.length > 0 &&
                  post.copy_history[0].attachments[0].photo &&
                  post.copy_history[0].attachments[0].photo.sizes &&
                  post.copy_history[0].attachments[0].photo.sizes[2] &&
                  post.copy_history[0].attachments[0].photo.sizes[2].url
                ) {
                  // Если есть вложения, добавляем первое изображение
                  imageDiv.style.backgroundImage = `url(${post.copy_history[0].attachments[0].photo.sizes[2].url})`;
                } else if (
                  post.copy_history[0].attachments &&
                  post.copy_history[0].attachments.length > 0 &&
                  post.copy_history[0].attachments[0].video &&
                  post.copy_history[0].attachments[0].video.first_frame &&
                  post.copy_history[0].attachments[0].video.first_frame[2] &&
                  post.copy_history[0].attachments[0].video.first_frame[2].url
                ) {
                  imageDiv.style.backgroundImage = `url(${post.copy_history[0].attachments[0].video.first_frame[2].url})`;
                } else if (
                  post.copy_history[0].attachments &&
                  post.copy_history[0].attachments.length > 0 &&
                  post.copy_history[0].attachments[0].video &&
                  post.copy_history[0].attachments[0].video.image &&
                  post.copy_history[0].attachments[0].video.image[2] &&
                  post.copy_history[0].attachments[0].video.image[2].url
                ) {
                  imageDiv.style.backgroundImage = `url(${post.copy_history[0].attachments[0].video.image[2].url})`;
                }
              } else {
                // Проверяем наличие вложений в оригинальном посте
                if (
                  post.attachments &&
                  post.attachments.length > 0 &&
                  post.attachments[0].photo &&
                  post.attachments[0].photo.sizes &&
                  post.attachments[0].photo.sizes[2] &&
                  post.attachments[0].photo.sizes[2].url
                ) {
                  // Если есть вложения, добавляем первое изображение
                  imageDiv.style.backgroundImage = `url(${post.attachments[0].photo.sizes[2].url})`;
                } else if (
                  post.attachments &&
                  post.attachments.length > 0 &&
                  post.attachments[0].video &&
                  post.attachments[0].video.first_frame &&
                  post.attachments[0].video.first_frame[2] &&
                  post.attachments[0].video.first_frame[2].url
                ) {
                  imageDiv.style.backgroundImage = `url(${post.attachments[0].video.first_frame[2].url})`;
                } else if (
                  post.attachments &&
                  post.attachments.length > 0 &&
                  post.attachments[0].video &&
                  post.attachments[0].video.image &&
                  post.attachments[0].video.image[2] &&
                  post.attachments[0].video.image[2].url
                ) {
                  imageDiv.style.backgroundImage = `url(${post.attachments[0].video.image[2].url})`;
                }
              }

              // Добавляем стили к тексту поста
              const paragraph = document.createElement("p");
              paragraph.textContent =
                text.length > 100 ? text.substring(0, 97) + "..." : text;
              paragraph.style.color = "#000000";
              paragraph.style.fontSize = "16px";
              paragraph.style.lineHeight = "22px";

              // Добавляем изображение и текст поста к посту

              postItem.appendChild(imageDiv);

              postItem.appendChild(paragraph);
              postItem.addEventListener("click", () => {
                document
                  .getElementById("wrapper_vk_post")
                  .addEventListener("click", () => {
                    document.getElementById("wrapper_vk_post").style.display =
                      "none";
                  });
                document.getElementById("wrapper_vk_post").style.display =
                  "flex";
                document.getElementById("vk_post").innerHTML = "";
                VK.Widgets.Post(`vk_post`, post.owner_id, post.id, post.hash);
              });

              // Добавляем пост в контейнер swiper-wrapper
              swiperWrapper.appendChild(postItem);
            });

            // Инициализируем Swiper
            var swiper = new Swiper(".mySwiper", {
              slidesPerView: 4,
              spaceBetween: 24,
            });

            swiper.on("reachEnd", function () {
              // Загружаем следующую порцию постов при достижении конца
              load((count = 10), (offset += 10));
            });
          })
          .catch((error) => {
            console.error("Ошибка при получении постов:", error);
          });
      }

      load();
      var swiper = new Swiper(".mySwiper2", {
        effect: "coverflow",
        grabCursor: true,
        centeredSlides: true,
        slidesPerView: "auto",
        slidesPerView: 2,
        centeredSlides: true,
        loop: true,
        roundLengths: true,
        shadow: false,
        coverflowEffect: {
          rotate: 0,
          stretch: 60,
          depth: 100,
          modifier: 1,
          slideShadows: true,
        },
        pagination: {
          el: ".swiper-pagination",
          dynamicBullets: true,
        },
      });
    </script>
  </body>
</html>
